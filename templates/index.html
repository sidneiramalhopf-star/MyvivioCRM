<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gym & Corporate Wellness CRM</title>
    <link rel="stylesheet" href="/static/css/style.css?v=20251010">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <div id="login-section" class="section active">
            <div class="login-container">
                <div class="login-card">
                    <h2><i class="fas fa-dumbbell"></i> Myvivio CRM</h2>
                    <p class="subtitle">Sistema de Gestão Inteligente</p>
                    
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab('login')">Entrar</button>
                        <button class="tab" onclick="switchTab('register')">Registrar</button>
                    </div>

                    <form id="login-form" class="auth-form">
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="login-email" autocomplete="email" required>
                        </div>
                        <div class="form-group">
                            <label>Senha</label>
                            <input type="password" id="login-password" autocomplete="current-password" required>
                        </div>
                        <button type="submit" class="btn-primary">Entrar</button>
                    </form>

                    <form id="register-form" class="auth-form" style="display: none;">
                        <div class="form-group">
                            <label>Nome</label>
                            <input type="text" id="register-name" autocomplete="name" required>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="register-email" autocomplete="email" required>
                        </div>
                        <div class="form-group">
                            <label>Senha</label>
                            <input type="password" id="register-password" autocomplete="new-password" required>
                        </div>
                        <div class="form-group">
                            <label>Tipo</label>
                            <select id="register-type" required>
                                <option value="">Selecione...</option>
                                <option value="administrador">Administrador</option>
                                <option value="gerente">Gerente</option>
                                <option value="instrutor">Instrutor</option>
                                <option value="membro">Membro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Unidade</label>
                            <select id="register-unidade" required>
                                <option value="1">Unidade Principal</option>
                            </select>
                        </div>
                        <button type="submit" class="btn-primary">Registrar</button>
                    </form>
                </div>
            </div>
        </div>

        <div id="dashboard-section" class="section">
            <div class="dashboard-layout">
                <aside class="nav-sidebar">
                    <div class="logo-section">
                        <div class="logo-placeholder">
                            <span class="logo-text">Logo</span>
                        </div>
                    </div>

                    <nav class="main-nav">
                        <a href="#" class="nav-item" onclick="navigateTo(event, 'iniciar')">
                            <i class="fas fa-rocket"></i>
                            <span>Iniciar</span>
                        </a>
                        <a href="#" class="nav-item active" onclick="navigateTo(event, 'home')">
                            <i class="fas fa-home"></i>
                            <span>Home</span>
                        </a>
                        <a href="#" class="nav-item" onclick="navigateTo(event, 'planejador')">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Planejador</span>
                        </a>
                        <a href="#" class="nav-item" onclick="navigateTo(event, 'pessoas')">
                            <i class="fas fa-users"></i>
                            <span>Pessoas</span>
                        </a>
                        <a href="#" class="nav-item" onclick="navigateTo(event, 'treinamento')">
                            <i class="fas fa-dumbbell"></i>
                            <span>Treinamento</span>
                        </a>
                        <div class="nav-divider"></div>
                        <a href="#" class="nav-item" onclick="navigateTo(event, 'config')">
                            <i class="fas fa-cog"></i>
                            <span>Configuração</span>
                        </a>
                    </nav>
                </aside>

                <div class="main-content">
                    <header class="top-header">
                        <div class="search-bar">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Buscar no Myvivio CRM">
                        </div>
                        <div class="header-actions">
                            <button class="icon-btn" title="Notificações">
                                <i class="fas fa-bell"></i>
                                <span class="badge">3</span>
                            </button>
                            <button class="icon-btn" title="Ajuda">
                                <i class="fas fa-question-circle"></i>
                            </button>
                            <div class="user-menu">
                                <span id="userName">Usuário</span>
                                <button onclick="logout()" class="btn-logout">
                                    <i class="fas fa-sign-out-alt"></i>
                                </button>
                            </div>
                        </div>
                    </header>

                    <div id="page-iniciar" class="page-content">
                        <div class="page-header">
                            <h1><i class="fas fa-rocket"></i> Iniciar</h1>
                            <p class="page-subtitle">Bem-vindo ao seu painel de controle</p>
                        </div>
                        <div class="quick-actions">
                            <div class="action-card" onclick="navigateToPage('planejador')">
                                <i class="fas fa-calendar-plus"></i>
                                <h3>Nova Agenda</h3>
                                <p>Agende uma nova atividade</p>
                            </div>
                            <div class="action-card" onclick="navigateToPage('pessoas')">
                                <i class="fas fa-user-plus"></i>
                                <h3>Adicionar Pessoa</h3>
                                <p>Cadastre um novo membro</p>
                            </div>
                            <div class="action-card" onclick="navigateToPage('treinamento')">
                                <i class="fas fa-plus-circle"></i>
                                <h3>Novo Programa</h3>
                                <p>Crie um programa de treino</p>
                            </div>
                        </div>
                    </div>

                    <div id="page-home" class="page-content active">
                        <div class="page-header">
                            <div>
                                <h1>Boa noite, <span id="userName-display">Usuário</span></h1>
                                <p class="page-subtitle">Acompanhe suas métricas e performance</p>
                            </div>
                            <div class="view-tabs">
                                <button class="view-tab active" onclick="switchHomeTab('dia-apos-dia')">Dia após dia</button>
                                <button class="view-tab" onclick="switchHomeTab('desempenho')">Desempenho</button>
                            </div>
                        </div>

                        <div id="tab-dia-apos-dia" class="home-tab-content active">
                            <div class="day-layout">
                                <div class="left-column">
                                    <div class="activities-section">
                                        <div class="section-header">
                                            <h2>Atividades</h2>
                                            <button class="btn-icon-add" onclick="openAgendaModal()">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                        </div>
                                        
                                        <div class="activity-stats">
                                            <div class="activity-stat-box">
                                                <div class="stat-icon-circle blue">
                                                    <i class="far fa-circle"></i>
                                                </div>
                                                <div class="stat-info">
                                                    <div class="stat-number" id="activities-todo">0</div>
                                                    <div class="stat-text">Para fazer</div>
                                                </div>
                                            </div>
                                            <div class="activity-stat-box">
                                                <div class="stat-icon-circle green">
                                                    <i class="fas fa-check-circle"></i>
                                                </div>
                                                <div class="stat-info">
                                                    <div class="stat-number" id="activities-done">0</div>
                                                    <div class="stat-text">Feito</div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="timeline-header">
                                            <h3>HOJE</h3>
                                            <span class="timeline-count" id="today-activities-count">6 atividades</span>
                                        </div>

                                        <div class="activities-timeline" id="activities-timeline">
                                            <p class="empty-message">Nenhuma atividade agendada</p>
                                        </div>
                                    </div>

                                    <div class="programs-widget">
                                        <div class="section-header">
                                            <h2>Programas</h2>
                                        </div>
                                        <div class="programs-summary">
                                            <div class="program-summary-item">
                                                <span class="program-label">Programas dos meus contatos</span>
                                                <span class="program-meta">Últimos 30 dias</span>
                                            </div>
                                            <div class="program-status-row">
                                                <div class="program-status-item">
                                                    <i class="fas fa-exclamation-circle" style="color: var(--danger-color);"></i>
                                                    <span class="status-number" id="programs-expired">0</span>
                                                    <span class="status-label">Expirado</span>
                                                </div>
                                                <div class="program-status-item">
                                                    <i class="fas fa-circle" style="color: var(--warning-color);"></i>
                                                    <span class="status-number" id="programs-unassigned">0</span>
                                                    <span class="status-label">Não atribuído</span>
                                                </div>
                                            </div>
                                            <div class="program-actions">
                                                <button class="btn-text">RENOVAR</button>
                                                <button class="btn-text">ATRIBUIR</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="right-column">
                                    <div class="contacts-section">
                                        <div class="section-header">
                                            <h2>Contatos</h2>
                                        </div>
                                        <div class="contacts-widget">
                                            <div class="contacts-filter">
                                                <span>Todos os clientes presentes</span>
                                                <i class="fas fa-filter"></i>
                                            </div>
                                            <div class="contacts-card">
                                                <h3>Meus contatos</h3>
                                                <p class="contacts-meta">Últimos 30 dias</p>
                                                <div class="contacts-grid">
                                                    <div class="contact-item">
                                                        <div class="contact-icon red">
                                                            <i class="fas fa-exclamation-triangle"></i>
                                                        </div>
                                                        <div class="contact-info">
                                                            <div class="contact-number" id="contacts-risk">0</div>
                                                            <div class="contact-label">Contatos de alto risco ativos</div>
                                                        </div>
                                                    </div>
                                                    <div class="contact-item">
                                                        <div class="contact-icon green">
                                                            <i class="fas fa-users"></i>
                                                        </div>
                                                        <div class="contact-info">
                                                            <div class="contact-number" id="contacts-total">0</div>
                                                            <div class="contact-label">Total de contatos atribuídos</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <button class="btn-outline-primary">GERENCIAR CONTATOS DE ALTO RISCO</button>
                                            </div>
                                        </div>

                                        <div class="leads-widget">
                                            <h3>Leads</h3>
                                            <p class="leads-meta">Últimos 30 dias</p>
                                            <div class="leads-item">
                                                <div class="lead-icon">
                                                    <i class="fas fa-flag"></i>
                                                </div>
                                                <div class="lead-info">
                                                    <div class="lead-number" id="leads-count">0</div>
                                                    <div class="lead-label">Lead para gerenciar</div>
                                                </div>
                                            </div>
                                            <button class="btn-text">CONTATO</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="tab-desempenho" class="home-tab-content">
                            <div class="metrics-section">
                                <h2>Retenção</h2>
                                <div class="stats-grid">
                                    <div class="stat-card highlight">
                                        <div class="stat-icon warning">
                                            <i class="fas fa-exclamation-triangle"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span id="stat-risco" class="big-number">0</span>
                                                <span class="trend negative">-3%</span>
                                            </div>
                                            <p class="stat-label">Risco de desistência da unidade</p>
                                            <p class="stat-meta">Usuários ativos de alto risco</p>
                                            <button class="btn-outline">VER MAIS</button>
                                        </div>
                                    </div>
                                </div>

                                <h2>Usuários e visitantes</h2>
                                <div class="stats-grid">
                                    <div class="stat-card">
                                        <div class="stat-icon info">
                                            <i class="fas fa-users"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span id="stat-usuarios" class="number">0</span>
                                            </div>
                                            <p class="stat-label">Total de Usuários</p>
                                        </div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-icon success">
                                            <i class="fas fa-user-check"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span id="stat-usuarios-ativos" class="number">0</span>
                                            </div>
                                            <p class="stat-label">Usuários Ativos</p>
                                        </div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-icon primary">
                                            <i class="fas fa-user-friends"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span id="stat-visitantes" class="number">0</span>
                                            </div>
                                            <p class="stat-label">Visitantes</p>
                                        </div>
                                    </div>
                                </div>

                                <h2>Métricas de Performance</h2>
                                <div class="metrics-grid">
                                    <div class="metric-card">
                                        <h3><i class="fas fa-chart-line"></i> Engajamento</h3>
                                        <div class="metric-display">
                                            <span class="metric-value" id="metric-engajamento">0%</span>
                                        </div>
                                        <p class="metric-label">Taxa de engajamento</p>
                                    </div>

                                    <div class="metric-card">
                                        <h3><i class="fas fa-dollar-sign"></i> ROI</h3>
                                        <div class="metric-display">
                                            <span class="metric-value" id="metric-roi">0%</span>
                                        </div>
                                        <p class="metric-label">Retorno sobre investimento</p>
                                    </div>

                                    <div class="metric-card">
                                        <h3><i class="fas fa-bolt"></i> Produtividade</h3>
                                        <div class="metric-display">
                                            <span class="metric-value" id="metric-produtividade">0%</span>
                                        </div>
                                        <p class="metric-label">Índice de produtividade</p>
                                    </div>

                                    <div class="metric-card">
                                        <h3><i class="fas fa-user-check"></i> Membros Ativos</h3>
                                        <div class="metric-display">
                                            <span class="metric-value" id="metric-membros">0</span>
                                        </div>
                                        <p class="metric-label">Usuários ativos hoje</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="page-planejador" class="page-content">
                        <div class="page-header">
                            <h1><i class="fas fa-calendar-alt"></i> Planejador</h1>
                            <button class="btn-primary" onclick="openAgendaModal()">
                                <i class="fas fa-plus"></i> Nova Atividade
                            </button>
                        </div>
                        <div class="agenda-section">
                            <div class="agenda-list" id="agenda-list"></div>
                        </div>
                    </div>

                    <div id="page-pessoas" class="page-content">
                        <div class="page-header">
                            <h1><i class="fas fa-users"></i> Pessoas</h1>
                            <button class="btn-primary">
                                <i class="fas fa-user-plus"></i> Adicionar Pessoa
                            </button>
                        </div>
                        <div class="people-section">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Nome</th>
                                            <th>Email</th>
                                            <th>Tipo</th>
                                            <th>Status</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody id="pessoas-table">
                                        <tr>
                                            <td colspan="5" class="empty-message">Carregando...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div id="page-treinamento" class="page-content">
                        <div class="page-header">
                            <h1><i class="fas fa-dumbbell"></i> Treinamento</h1>
                            <button class="btn-primary">
                                <i class="fas fa-plus"></i> Novo Programa
                            </button>
                        </div>
                        <div class="programs-section">
                            <div class="programs-stats">
                                <div class="program-stat expirado">
                                    <span class="count" id="prog-expirados">0</span>
                                    <span class="label">Expirados</span>
                                </div>
                                <div class="program-stat nao-atribuido">
                                    <span class="count" id="prog-nao-atribuidos">0</span>
                                    <span class="label">Não atribuídos</span>
                                </div>
                                <div class="program-stat atribuido">
                                    <span class="count" id="prog-atribuidos">0</span>
                                    <span class="label">Atribuídos</span>
                                </div>
                            </div>
                            <div class="programs-grid" id="programs-grid"></div>
                        </div>
                    </div>

                    <div id="page-config" class="page-content">
                        <div class="page-header">
                            <h1><i class="fas fa-cog"></i> Configuração</h1>
                        </div>
                        <div class="config-section">
                            <div class="config-card">
                                <h3>Perfil do Usuário</h3>
                                <p>Gerencie suas informações pessoais</p>
                            </div>
                            <div class="config-card">
                                <h3>Unidade</h3>
                                <p>Configurações da unidade</p>
                            </div>
                            <div class="config-card">
                                <h3>Notificações</h3>
                                <p>Preferências de notificação</p>
                            </div>
                            <div class="config-card">
                                <h3>Segurança</h3>
                                <p>Alterar senha e configurações de segurança</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="agenda-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAgendaModal()">&times;</span>
            <h3>Nova Atividade na Agenda</h3>
            <form id="agenda-form">
                <div class="form-group">
                    <label>Título</label>
                    <input type="text" id="agenda-titulo" required>
                </div>
                <div class="form-group">
                    <label>Descrição</label>
                    <textarea id="agenda-descricao" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label>Tipo de Atividade</label>
                    <select id="agenda-tipo" required>
                        <option value="">Selecione...</option>
                        <option value="treino">Treino</option>
                        <option value="aula">Aula em Grupo</option>
                        <option value="avaliacao">Avaliação</option>
                        <option value="consultoria">Consultoria</option>
                        <option value="reuniao">Reunião</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Duração (minutos)</label>
                    <input type="number" id="agenda-duracao" min="5" required>
                </div>
                <button type="submit" class="btn-primary">Adicionar à Agenda</button>
            </form>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <script src="/static/js/app.js?v=20251010"></script>
</body>
</html>
