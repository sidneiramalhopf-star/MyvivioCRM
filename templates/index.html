<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gym & Corporate Wellness CRM</title>
    <link rel="stylesheet" href="/static/css/style.css?v=20251014v1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <div id="login-section" class="section active">
            <div class="login-container">
                <div class="login-card">
                    <h2><i class="fas fa-dumbbell"></i> Myvivio CRM</h2>
                    <p class="subtitle">Sistema de Gestão Inteligente</p>
                    
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab('login')">Entrar</button>
                        <button class="tab" onclick="switchTab('register')">Registrar</button>
                    </div>

                    <form id="login-form" class="auth-form">
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="login-email" autocomplete="email" required>
                        </div>
                        <div class="form-group">
                            <label>Senha</label>
                            <input type="password" id="login-password" autocomplete="current-password" required>
                        </div>
                        <button type="submit" class="btn-primary">Entrar</button>
                    </form>

                    <form id="register-form" class="auth-form" style="display: none;">
                        <div class="form-group">
                            <label>Nome</label>
                            <input type="text" id="register-name" autocomplete="name" required>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="register-email" autocomplete="email" required>
                        </div>
                        <div class="form-group">
                            <label>Senha</label>
                            <input type="password" id="register-password" autocomplete="new-password" required>
                        </div>
                        <div class="form-group">
                            <label>Tipo</label>
                            <select id="register-type" required>
                                <option value="">Selecione...</option>
                                <option value="administrador">Administrador</option>
                                <option value="gerente">Gerente</option>
                                <option value="instrutor">Instrutor</option>
                                <option value="membro">Membro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Unidade</label>
                            <select id="register-unidade" required>
                                <option value="1">Unidade Principal</option>
                            </select>
                        </div>
                        <button type="submit" class="btn-primary">Registrar</button>
                    </form>
                </div>
            </div>
        </div>

        <div id="dashboard-section" class="section">
            <div class="dashboard-layout">
                <aside class="nav-sidebar">
                    <div class="logo-section">
                        <div class="logo-placeholder">
                            <span class="logo-text">Logo</span>
                        </div>
                    </div>

                    <nav class="main-nav">
                        <a href="#" class="nav-item" onclick="navigateTo(event, 'iniciar')">
                            <i class="fas fa-rocket"></i>
                            <span>Iniciar</span>
                        </a>
                        <a href="#" class="nav-item active" onclick="navigateTo(event, 'home')">
                            <i class="fas fa-home"></i>
                            <span>Home</span>
                        </a>
                        <a href="#" class="nav-item" onclick="navigateTo(event, 'planejador')">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Planejador</span>
                        </a>
                        <a href="#" class="nav-item" onclick="navigateTo(event, 'pessoas')">
                            <i class="fas fa-users"></i>
                            <span>Pessoas</span>
                        </a>
                        <a href="#" class="nav-item" onclick="navigateTo(event, 'treinamento')">
                            <i class="fas fa-dumbbell"></i>
                            <span>Treinamento</span>
                        </a>
                        <div class="nav-divider"></div>
                        <a href="#" class="nav-item" onclick="navigateTo(event, 'config')">
                            <i class="fas fa-cog"></i>
                            <span>Configuração</span>
                        </a>
                    </nav>
                </aside>

                <div class="main-content">
                    <header class="top-header">
                        <div class="search-bar">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Buscar no Myvivio CRM">
                        </div>
                        <div class="header-actions">
                            <button class="icon-btn" title="Notificações">
                                <i class="fas fa-bell"></i>
                                <span class="badge">3</span>
                            </button>
                            <button class="icon-btn" title="Ajuda">
                                <i class="fas fa-question-circle"></i>
                            </button>
                            <div class="user-menu">
                                <span id="userName">Usuário</span>
                                <button onclick="logout()" class="btn-logout">
                                    <i class="fas fa-sign-out-alt"></i>
                                </button>
                            </div>
                        </div>
                    </header>

                    <div id="page-iniciar" class="page-content">
                        <div class="page-header">
                            <h1><i class="fas fa-rocket"></i> Iniciar</h1>
                            <p class="page-subtitle">Bem-vindo ao seu painel de controle</p>
                        </div>
                        <div class="quick-actions">
                            <div class="action-card" onclick="navigateToPage('planejador')">
                                <i class="fas fa-calendar-plus"></i>
                                <h3>Nova Agenda</h3>
                                <p>Agende uma nova atividade</p>
                            </div>
                            <div class="action-card" onclick="navigateToPage('pessoas')">
                                <i class="fas fa-user-plus"></i>
                                <h3>Adicionar Pessoa</h3>
                                <p>Cadastre um novo membro</p>
                            </div>
                            <div class="action-card" onclick="navigateToPage('treinamento')">
                                <i class="fas fa-plus-circle"></i>
                                <h3>Novo Programa</h3>
                                <p>Crie um programa de treino</p>
                            </div>
                        </div>
                    </div>

                    <div id="page-home" class="page-content active">
                        <div class="page-header">
                            <div>
                                <h1>Boa noite, <span id="userName-display">Usuário</span></h1>
                                <p class="page-subtitle">Acompanhe suas métricas e performance</p>
                            </div>
                            <div class="view-tabs">
                                <button class="view-tab active" onclick="switchHomeTab('dia-apos-dia')">Dia após dia</button>
                                <button class="view-tab" onclick="switchHomeTab('desempenho')">Desempenho</button>
                            </div>
                        </div>

                        <div id="tab-dia-apos-dia" class="home-tab-content active">
                            <div class="day-layout">
                                <div class="left-column">
                                    <div class="activities-section">
                                        <div class="section-header">
                                            <h2>Atividades</h2>
                                            <button class="btn-icon-add" onclick="openAgendaModal()">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                        </div>
                                        
                                        <div class="activity-stats">
                                            <div class="activity-stat-box">
                                                <div class="stat-icon-circle blue">
                                                    <i class="far fa-circle"></i>
                                                </div>
                                                <div class="stat-info">
                                                    <div class="stat-number" id="activities-todo">0</div>
                                                    <div class="stat-text">Para fazer</div>
                                                </div>
                                            </div>
                                            <div class="activity-stat-box">
                                                <div class="stat-icon-circle green">
                                                    <i class="fas fa-check-circle"></i>
                                                </div>
                                                <div class="stat-info">
                                                    <div class="stat-number" id="activities-done">0</div>
                                                    <div class="stat-text">Feito</div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="timeline-header">
                                            <h3>HOJE</h3>
                                            <span class="timeline-count" id="today-activities-count">6 atividades</span>
                                        </div>

                                        <div class="activities-timeline" id="activities-timeline">
                                            <p class="empty-message">Nenhuma atividade agendada</p>
                                        </div>
                                    </div>

                                    <div class="programs-widget">
                                        <div class="section-header">
                                            <h2>Programas</h2>
                                        </div>
                                        <div class="programs-summary">
                                            <div class="program-summary-item">
                                                <span class="program-label">Programas dos meus contatos</span>
                                                <span class="program-meta">Últimos 30 dias</span>
                                            </div>
                                            <div class="program-status-row">
                                                <div class="program-status-item">
                                                    <i class="fas fa-exclamation-circle" style="color: var(--danger-color);"></i>
                                                    <span class="status-number" id="programs-expired">0</span>
                                                    <span class="status-label">Expirado</span>
                                                </div>
                                                <div class="program-status-item">
                                                    <i class="fas fa-circle" style="color: var(--warning-color);"></i>
                                                    <span class="status-number" id="programs-unassigned">0</span>
                                                    <span class="status-label">Não atribuído</span>
                                                </div>
                                            </div>
                                            <div class="program-actions">
                                                <button class="btn-text">RENOVAR</button>
                                                <button class="btn-text">ATRIBUIR</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="right-column">
                                    <div class="contacts-section">
                                        <div class="section-header">
                                            <h2>Contatos</h2>
                                        </div>
                                        <div class="contacts-widget">
                                            <div class="contacts-filter">
                                                <span>Todos os clientes presentes</span>
                                                <i class="fas fa-filter"></i>
                                            </div>
                                            <div class="contacts-card">
                                                <h3>Meus contatos</h3>
                                                <p class="contacts-meta">Últimos 30 dias</p>
                                                <div class="contacts-grid">
                                                    <div class="contact-item">
                                                        <div class="contact-icon red">
                                                            <i class="fas fa-exclamation-triangle"></i>
                                                        </div>
                                                        <div class="contact-info">
                                                            <div class="contact-number" id="contacts-risk">0</div>
                                                            <div class="contact-label">Contatos de alto risco ativos</div>
                                                        </div>
                                                    </div>
                                                    <div class="contact-item">
                                                        <div class="contact-icon green">
                                                            <i class="fas fa-users"></i>
                                                        </div>
                                                        <div class="contact-info">
                                                            <div class="contact-number" id="contacts-total">0</div>
                                                            <div class="contact-label">Total de contatos atribuídos</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <button class="btn-outline-primary">GERENCIAR CONTATOS DE ALTO RISCO</button>
                                            </div>
                                        </div>

                                        <div class="leads-widget">
                                            <h3>Leads</h3>
                                            <p class="leads-meta">Últimos 30 dias</p>
                                            <div class="leads-item">
                                                <div class="lead-icon">
                                                    <i class="fas fa-flag"></i>
                                                </div>
                                                <div class="lead-info">
                                                    <div class="lead-number" id="leads-count">0</div>
                                                    <div class="lead-label">Lead para gerenciar</div>
                                                </div>
                                            </div>
                                            <button class="btn-text">CONTATO</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="tab-desempenho" class="home-tab-content">
                            <div class="metrics-section">
                                <h2>Retenção</h2>
                                <div class="stats-grid">
                                    <div class="stat-card highlight">
                                        <div class="stat-icon warning">
                                            <i class="fas fa-exclamation-triangle"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span id="stat-risco" class="big-number">0</span>
                                                <span class="trend negative">-3%</span>
                                            </div>
                                            <p class="stat-label">Risco de desistência da unidade</p>
                                            <p class="stat-meta">Usuários ativos de alto risco</p>
                                            <button class="btn-outline">VER MAIS</button>
                                        </div>
                                    </div>
                                </div>

                                <h2>Usuários e visitantes</h2>
                                <div class="stats-grid">
                                    <div class="stat-card">
                                        <div class="stat-icon info">
                                            <i class="fas fa-users"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span id="stat-usuarios" class="number">0</span>
                                            </div>
                                            <p class="stat-label">Total de Usuários</p>
                                        </div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-icon success">
                                            <i class="fas fa-user-check"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span id="stat-usuarios-ativos" class="number">0</span>
                                            </div>
                                            <p class="stat-label">Usuários Ativos</p>
                                        </div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-icon primary">
                                            <i class="fas fa-user-friends"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span id="stat-visitantes" class="number">0</span>
                                            </div>
                                            <p class="stat-label">Visitantes</p>
                                        </div>
                                    </div>
                                </div>

                                <h2>Métricas de Performance</h2>
                                <div class="metrics-grid">
                                    <div class="metric-card">
                                        <h3><i class="fas fa-chart-line"></i> Engajamento</h3>
                                        <div class="metric-display">
                                            <span class="metric-value" id="metric-engajamento">0%</span>
                                        </div>
                                        <p class="metric-label">Taxa de engajamento</p>
                                    </div>

                                    <div class="metric-card">
                                        <h3><i class="fas fa-dollar-sign"></i> ROI</h3>
                                        <div class="metric-display">
                                            <span class="metric-value" id="metric-roi">0%</span>
                                        </div>
                                        <p class="metric-label">Retorno sobre investimento</p>
                                    </div>

                                    <div class="metric-card">
                                        <h3><i class="fas fa-bolt"></i> Produtividade</h3>
                                        <div class="metric-display">
                                            <span class="metric-value" id="metric-produtividade">0%</span>
                                        </div>
                                        <p class="metric-label">Índice de produtividade</p>
                                    </div>

                                    <div class="metric-card">
                                        <h3><i class="fas fa-user-check"></i> Membros Ativos</h3>
                                        <div class="metric-display">
                                            <span class="metric-value" id="metric-membros">0</span>
                                        </div>
                                        <p class="metric-label">Usuários ativos hoje</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="page-planejador" class="page-content">
                        <div class="planner-container">
                            <!-- Sidebar Colapsável -->
                            <div class="planner-sidebar" id="planner-sidebar">
                                <div class="sidebar-toggle" onclick="togglePlannerSidebar()">
                                    <i class="fas fa-bars"></i>
                                </div>
                                <div class="sidebar-content">
                                    <button class="planner-menu-item active" onclick="switchPlannerView('calendario', event)">
                                        <i class="fas fa-calendar"></i>
                                        <span>Calendário</span>
                                    </button>
                                    <button class="planner-menu-item" onclick="switchPlannerView('aulas-andamento', event)">
                                        <i class="fas fa-list"></i>
                                        <span>Aulas em Andamento</span>
                                    </button>
                                    <button class="planner-menu-item" onclick="switchPlannerView('agendamento', event)">
                                        <i class="fas fa-calendar-plus"></i>
                                        <span>Agendamento de Aulas</span>
                                    </button>
                                </div>
                            </div>

                            <!-- Área Principal -->
                            <div class="planner-main">
                                <!-- Seção Calendário -->
                                <div id="planner-calendario" class="planner-view active">
                                    <div class="planner-header">
                                        <div class="page-title-wrapper">
                                            <h1><i class="fas fa-calendar"></i> Calendário</h1>
                                            <button id="quick-add-event" class="btn-icon-accent" onclick="openEventModal()" title="Adicionar Atividade">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                        </div>
                                        <div class="calendar-controls">
                                            <button class="btn-icon" onclick="previousMonth()"><i class="fas fa-chevron-left"></i></button>
                                            <h2 id="month-year" class="month-year-display">Janeiro 2025</h2>
                                            <button class="btn-icon" onclick="nextMonth()"><i class="fas fa-chevron-right"></i></button>
                                            <button class="btn-outline" onclick="goToToday()">HOJE</button>
                                            <select id="view-mode" onchange="changeViewMode()" class="view-select">
                                                <option value="month">Mês</option>
                                                <option value="week">Semana</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="calendar-display">
                                        <div class="calendar-header" id="calendar-header"></div>
                                        <div class="calendar-body" id="calendar-body"></div>
                                    </div>
                                </div>

                                <!-- Seção Aulas em Andamento -->
                                <div id="planner-aulas-andamento" class="planner-view">
                                    <div class="planner-header">
                                        <h1><i class="fas fa-list"></i> Aulas em Andamento</h1>
                                        
                                        <!-- Tabs Calendário / Penalidades -->
                                        <div class="aulas-tabs">
                                            <button class="tab-btn active" onclick="switchAulasTab('calendario')">
                                                <i class="fas fa-calendar-week"></i> Calendário
                                            </button>
                                            <button class="tab-btn" onclick="switchAulasTab('penalidades')">
                                                <i class="fas fa-exclamation-triangle"></i> Penalidades
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- Tab Calendário -->
                                    <div id="aulas-tab-calendario" class="aulas-tab-content active">
                                        <!-- Controles de Busca e Filtros -->
                                        <div class="aulas-controles-top">
                                            <div class="search-filter-group">
                                                <input type="text" class="search-input" placeholder="Buscar" id="search-aulas-andamento">
                                                <select class="filter-select" id="filtro-periodo-aula">
                                                    <option value="sempre">Sempre</option>
                                                    <option value="hoje">Hoje</option>
                                                    <option value="semana">Esta Semana</option>
                                                    <option value="mes">Este Mês</option>
                                                </select>
                                                <button class="btn-mostra" onclick="aplicarFiltrosAulas()">
                                                    <i class="fas fa-filter"></i> MOSTRA
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- Navegação Semanal -->
                                        <div class="week-navigation-aulas">
                                            <button class="btn-icon" onclick="previousWeekAulas()">
                                                <i class="fas fa-chevron-left"></i>
                                            </button>
                                            <button class="btn-outline" onclick="goToTodayAulas()">HOJE</button>
                                            <button class="btn-icon" onclick="nextWeekAulas()">
                                                <i class="fas fa-chevron-right"></i>
                                            </button>
                                            <button class="btn-icon" onclick="abrirSeletorData()" title="Selecionar Data">
                                                <i class="fas fa-calendar-alt"></i>
                                            </button>
                                        </div>
                                        
                                        <!-- Grade Semanal de Aulas Estilo Technogym -->
                                        <div class="grade-technogym-container">
                                            <!-- Header com dias da semana (fixo) -->
                                            <div class="grade-technogym-header">
                                                <div class="hora-label-col">Hora</div>
                                                <div id="dias-header-technogym" class="dias-header-grid">
                                                    <!-- Será preenchido dinamicamente com QUI 9 out, SEX 10 out, etc -->
                                                </div>
                                            </div>
                                            
                                            <!-- Grid scrollável com slots de 30min -->
                                            <div class="grade-technogym-scroll">
                                                <div id="grade-technogym-body" class="grade-technogym-body">
                                                    <!-- Será renderizado dinamicamente: 48 linhas (0h-23h, slots de 30min) × 7 colunas -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Tab Penalidades -->
                                    <div id="aulas-tab-penalidades" class="aulas-tab-content">
                                        <div class="penalidades-container">
                                            <h3><i class="fas fa-exclamation-circle"></i> Faltas e Penalidades</h3>
                                            <div id="lista-penalidades" class="lista-penalidades">
                                                <!-- Será renderizado dinamicamente -->
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Seção Agendamento de Aulas -->
                                <div id="planner-agendamento" class="planner-view">
                                    <div class="planner-header">
                                        <h1><i class="fas fa-calendar-plus"></i> Agendamento de Aulas</h1>
                                        <div class="agendamento-controls">
                                            <input type="text" class="search-input" placeholder="Buscar aula..." id="search-agendamento">
                                            <button class="btn-outline" onclick="toggleFiltrosAgendamento()"><i class="fas fa-filter"></i> FILTROS</button>
                                        </div>
                                    </div>
                                    
                                    <!-- Filtros (oculto por padrão) -->
                                    <div id="filtros-agendamento" class="filtros-container" style="display: none;">
                                        <div class="filtro-group">
                                            <label>Tipo de Aula</label>
                                            <select id="filtro-tipo-agendamento">
                                                <option value="Todos">Todos os tipos</option>
                                            </select>
                                        </div>
                                        <div class="filtro-group">
                                            <label>Sala</label>
                                            <select id="filtro-sala-agendamento">
                                                <option value="Todas">Todas as salas</option>
                                            </select>
                                        </div>
                                        <div class="filtro-group">
                                            <label>Instrutor</label>
                                            <select id="filtro-instrutor-agendamento">
                                                <option value="Todos">Todos os instrutores</option>
                                            </select>
                                        </div>
                                        <button class="btn-limpar-filtros" onclick="limparFiltrosAgendamento()">
                                            <i class="fas fa-times-circle"></i> Limpar Filtros
                                        </button>
                                    </div>
                                    
                                    <!-- Controles de Navegação Semanal -->
                                    <div class="week-controls">
                                        <div class="week-navigator">
                                            <button class="btn-icon" onclick="previousWeekAgendamento()"><i class="fas fa-chevron-left"></i></button>
                                            <h3 id="semana-agendamento">14-20 Outubro 2025</h3>
                                            <button class="btn-icon" onclick="nextWeekAgendamento()"><i class="fas fa-chevron-right"></i></button>
                                            <button class="btn-outline" onclick="goToTodayAgendamento()">HOJE</button>
                                        </div>
                                        <button class="btn-primary" onclick="abrirModalAulaAgendamento('criar')">
                                            <i class="fas fa-plus"></i> CRIAR AULA
                                        </button>
                                    </div>
                                    
                                    <!-- Grid do Calendário Semanal 24h -->
                                    <div class="calendario-semanal-container">
                                        <div class="calendario-semanal-24h" id="calendario-agendamento">
                                            <!-- Header com dias da semana -->
                                            <div class="calendario-header">
                                                <div class="hora-coluna">Hora</div>
                                                <div class="dia-coluna">
                                                    <div class="dia-nome">DOM</div>
                                                    <div class="dia-numero" id="dia-agend-0">20</div>
                                                </div>
                                                <div class="dia-coluna">
                                                    <div class="dia-nome">SEG</div>
                                                    <div class="dia-numero" id="dia-agend-1">14</div>
                                                </div>
                                                <div class="dia-coluna">
                                                    <div class="dia-nome">TER</div>
                                                    <div class="dia-numero" id="dia-agend-2">15</div>
                                                </div>
                                                <div class="dia-coluna">
                                                    <div class="dia-nome">QUA</div>
                                                    <div class="dia-numero" id="dia-agend-3">16</div>
                                                </div>
                                                <div class="dia-coluna">
                                                    <div class="dia-nome">QUI</div>
                                                    <div class="dia-numero" id="dia-agend-4">17</div>
                                                </div>
                                                <div class="dia-coluna">
                                                    <div class="dia-nome">SEX</div>
                                                    <div class="dia-numero" id="dia-agend-5">18</div>
                                                </div>
                                                <div class="dia-coluna">
                                                    <div class="dia-nome">SÁB</div>
                                                    <div class="dia-numero" id="dia-agend-6">19</div>
                                                </div>
                                            </div>
                                            
                                            <!-- Grid com 24 horários -->
                                            <div class="calendario-grid-24h" id="calendario-grid-agendamento">
                                                <!-- Renderizado dinamicamente pelo JavaScript -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="page-pessoas" class="page-content">
                        <div class="page-header">
                            <h1><i class="fas fa-users"></i> Pessoas</h1>
                            <button class="btn-primary">
                                <i class="fas fa-user-plus"></i> Adicionar Pessoa
                            </button>
                        </div>
                        <div class="people-section">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Nome</th>
                                            <th>Email</th>
                                            <th>Tipo</th>
                                            <th>Status</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody id="pessoas-table">
                                        <tr>
                                            <td colspan="5" class="empty-message">Carregando...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div id="page-treinamento" class="page-content">
                        <div class="page-header">
                            <h1><i class="fas fa-dumbbell"></i> Treinamento</h1>
                            <button class="btn-primary">
                                <i class="fas fa-plus"></i> Novo Programa
                            </button>
                        </div>
                        <div class="programs-section">
                            <div class="programs-stats">
                                <div class="program-stat expirado">
                                    <span class="count" id="prog-expirados">0</span>
                                    <span class="label">Expirados</span>
                                </div>
                                <div class="program-stat nao-atribuido">
                                    <span class="count" id="prog-nao-atribuidos">0</span>
                                    <span class="label">Não atribuídos</span>
                                </div>
                                <div class="program-stat atribuido">
                                    <span class="count" id="prog-atribuidos">0</span>
                                    <span class="label">Atribuídos</span>
                                </div>
                            </div>
                            <div class="programs-grid" id="programs-grid"></div>
                        </div>
                    </div>

                    <div id="page-config" class="page-content">
                        <div class="page-header">
                            <h1><i class="fas fa-cog"></i> Configuração</h1>
                        </div>
                        <div class="config-section">
                            <div class="config-card">
                                <h3>Perfil do Usuário</h3>
                                <p>Gerencie suas informações pessoais</p>
                            </div>
                            <div class="config-card">
                                <h3>Unidade</h3>
                                <p>Configurações da unidade</p>
                            </div>
                            <div class="config-card">
                                <h3>Notificações</h3>
                                <p>Preferências de notificação</p>
                            </div>
                            <div class="config-card">
                                <h3>Segurança</h3>
                                <p>Alterar senha e configurações de segurança</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="agenda-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAgendaModal()">&times;</span>
            <h3>Nova Atividade na Agenda</h3>
            <form id="agenda-form">
                <div class="form-group">
                    <label>Título</label>
                    <input type="text" id="agenda-titulo" required>
                </div>
                <div class="form-group">
                    <label>Descrição</label>
                    <textarea id="agenda-descricao" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label>Tipo de Atividade</label>
                    <select id="agenda-tipo" required>
                        <option value="">Selecione...</option>
                        <option value="treino">Treino</option>
                        <option value="aula">Aula em Grupo</option>
                        <option value="avaliacao">Avaliação</option>
                        <option value="consultoria">Consultoria</option>
                        <option value="reuniao">Reunião</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Duração (minutos)</label>
                    <input type="number" id="agenda-duracao" min="5" required>
                </div>
                <button type="submit" class="btn-primary">Adicionar à Agenda</button>
            </form>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <!-- Modal de Criação de Evento do Calendário -->
    <div id="event-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeEventModal()">&times;</span>
            <h3>Nova Atividade no Calendário</h3>
            <form id="event-form">
                <div class="form-group">
                    <label>Título</label>
                    <input type="text" id="event-titulo" required>
                </div>
                <div class="form-group">
                    <label>Data</label>
                    <input type="date" id="event-data" required>
                </div>
                <div class="form-group">
                    <label>Hora de Início</label>
                    <input type="time" id="event-hora-inicio">
                </div>
                <div class="form-group">
                    <label>Hora de Término</label>
                    <input type="time" id="event-hora-fim">
                </div>
                <div class="form-group">
                    <label>Tipo de Evento</label>
                    <select id="event-tipo" required>
                        <option value="">Selecione...</option>
                        <option value="reuniao">Reunião</option>
                        <option value="tarefa">Tarefa</option>
                        <option value="lembrete">Lembrete</option>
                        <option value="treino">Treino</option>
                        <option value="aula">Aula</option>
                        <option value="outro">Outro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Descrição</label>
                    <textarea id="event-descricao" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="event-lembrete"> Ativar lembrete
                    </label>
                </div>
                <button type="submit" class="btn-primary">Salvar Evento</button>
            </form>
        </div>
    </div>

    <!-- Modal de Informações da Aula -->
    <div id="modal-info-aula" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAulaInfoModal()">&times;</span>
            
            <div class="aula-header">
                <div class="aula-info">
                    <h2 id="aula-nome">GINÁSIO</h2>
                    <p><i class="fas fa-user"></i> <span id="aula-instrutor">Instrutor</span></p>
                    <p><i class="fas fa-calendar"></i> <span id="aula-data-horario">Data e horário</span></p>
                    <p><i class="fas fa-location-dot"></i> <span id="aula-local">Local</span></p>
                </div>
                <button class="btn-reservar" onclick="reservarAula()">
                    <i class="fas fa-plus"></i> RESERVAR
                </button>
            </div>

            <!-- Círculos de Estatísticas -->
            <div class="stats-circles">
                <div class="circle-stat vagas">
                    <div class="circle-progress" style="--progress: 70">
                        <div class="circle-value" id="stat-vagas">21/30</div>
                    </div>
                    <div class="circle-label">Vagas Ocupadas</div>
                </div>
                <div class="circle-stat presentes">
                    <div class="circle-progress" style="--progress: 100">
                        <div class="circle-value" id="stat-presentes">21/21</div>
                    </div>
                    <div class="circle-label">Presentes</div>
                </div>
                <div class="circle-stat ausentes">
                    <div class="circle-progress" style="--progress: 0">
                        <div class="circle-value" id="stat-ausentes">0/21</div>
                    </div>
                    <div class="circle-label">Ausentes</div>
                </div>
                <div class="circle-stat espera">
                    <div class="circle-progress" style="--progress: 0">
                        <div class="circle-value" id="stat-espera">0</div>
                    </div>
                    <div class="circle-label">Lista de Espera</div>
                </div>
            </div>

            <!-- Lista de Inscritos -->
            <div class="inscritos-section">
                <h4>Inscritos</h4>
                <div class="inscritos-table" id="inscritos-table">
                    <!-- Lista de inscritos será populada dinamicamente -->
                </div>
            </div>
        </div>
    </div>

    <!-- Barra Lateral Global do Planejador -->
    <div id="global-planner-sidebar" class="global-planner-sidebar">
        <div class="planner-header">
            <h3><i class="fas fa-calendar-days"></i> Planejador</h3>
            <button id="close-global-planner" onclick="closeGlobalPlanner()">
                <i class="fas fa-xmark"></i>
            </button>
        </div>
        
        <div class="planner-sections">
            <!-- Mini Calendário -->
            <section class="planner-section">
                <h4><i class="fas fa-calendar"></i> Calendário</h4>
                <div id="mini-calendar" class="mini-calendar">
                    <div class="mini-calendar-header">
                        <button onclick="miniPrevMonth()"><i class="fas fa-chevron-left"></i></button>
                        <span id="mini-month-year">Outubro 2025</span>
                        <button onclick="miniNextMonth()"><i class="fas fa-chevron-right"></i></button>
                    </div>
                    <div id="mini-calendar-grid" class="mini-calendar-grid"></div>
                </div>
            </section>
            
            <!-- Estatísticas de Reservas -->
            <section class="planner-section">
                <h4><i class="fas fa-chart-pie"></i> Reservas Hoje</h4>
                <div id="reservas-stats" class="reservas-stats">
                    <div class="stat-item">
                        <span class="stat-label">Aulas Agendadas</span>
                        <span class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Vagas Ocupadas</span>
                        <span class="stat-value">0%</span>
                    </div>
                </div>
            </section>
            
            <!-- Próximas Aulas -->
            <section class="planner-section">
                <h4><i class="fas fa-clock"></i> Próximas Atividades</h4>
                <div id="proximas-aulas" class="proximas-aulas">
                    <p class="empty-message">Nenhuma atividade próxima</p>
                </div>
            </section>
            
            <!-- Agendamento Rápido -->
            <section class="planner-section">
                <div class="agendamento-rapido">
                    <h4><i class="fas fa-bolt"></i> Agendar Aula Rápida</h4>
                    <select id="aula-rapida-select">
                        <option value="">Selecionar aula...</option>
                    </select>
                    <button id="btn-agendar-rapido" class="btn-agendar-rapido" disabled onclick="agendarAulaRapida()">
                        Agendar Agora
                    </button>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Modal Grande de Criação/Edição de Aula -->
    <div id="modal-aula" class="modal modal-grande">
        <div class="modal-aula-content">
            <span class="close" onclick="closeModalAula()">&times;</span>
            
            <div class="modal-aula-body">
                <!-- Sidebar de Navegação -->
                <div class="modal-aula-sidebar">
                    <h3 id="modal-aula-titulo">Nova Aula</h3>
                    <nav class="modal-nav">
                        <button class="nav-item active" data-section="aula" onclick="navegarSecaoModal('aula', event)">
                            <i class="fas fa-dumbbell"></i> Aula
                        </button>
                        <button class="nav-item" data-section="instrutor" onclick="navegarSecaoModal('instrutor', event)">
                            <i class="fas fa-user"></i> Instrutor
                        </button>
                        <button class="nav-item" data-section="modo" onclick="navegarSecaoModal('modo', event)">
                            <i class="fas fa-laptop"></i> Modo
                        </button>
                        <button class="nav-item" data-section="sala" onclick="navegarSecaoModal('sala', event)">
                            <i class="fas fa-door-open"></i> Sala
                        </button>
                        <button class="nav-item" data-section="agendamento" onclick="navegarSecaoModal('agendamento', event)">
                            <i class="fas fa-calendar-alt"></i> Agendamento
                        </button>
                        <button class="nav-item" data-section="capacidade" onclick="navegarSecaoModal('capacidade', event)">
                            <i class="fas fa-users"></i> Capacidade
                        </button>
                        <button class="nav-item" data-section="instrucoes" onclick="navegarSecaoModal('instrucoes', event)">
                            <i class="fas fa-clipboard"></i> Instruções
                        </button>
                        <button class="nav-item" data-section="participantes" onclick="navegarSecaoModal('participantes', event)">
                            <i class="fas fa-user-friends"></i> Participantes
                        </button>
                    </nav>
                </div>
                
                <!-- Área Principal do Modal -->
                <div class="modal-aula-main">
                    <!-- Seção Aula -->
                    <div id="section-aula" class="modal-section active">
                        <h4>Tipo de Aula</h4>
                        <div class="form-row">
                            <select id="modal-tipo-aula" class="form-control">
                                <option value="">Selecione o tipo de aula...</option>
                            </select>
                            <button class="btn-add-option" onclick="adicionarTipoAula()">
                                <i class="fas fa-plus"></i> ADICIONAR AULA
                            </button>
                        </div>
                    </div>
                    
                    <!-- Seção Instrutor -->
                    <div id="section-instrutor" class="modal-section">
                        <h4>Instrutor</h4>
                        <div class="form-row">
                            <select id="modal-instrutor" class="form-control">
                                <option value="">Selecione o instrutor...</option>
                            </select>
                            <button class="btn-add-option" onclick="adicionarInstrutor()">
                                <i class="fas fa-plus"></i> ADICIONAR INSTRUTOR
                            </button>
                        </div>
                    </div>
                    
                    <!-- Seção Modo -->
                    <div id="section-modo" class="modal-section">
                        <h4>Modo da Aula</h4>
                        <div class="form-row">
                            <select id="modal-modo" class="form-control">
                                <option value="">Selecione o modo...</option>
                            </select>
                            <button class="btn-add-option" onclick="adicionarModo()">
                                <i class="fas fa-plus"></i> ADICIONAR MODO
                            </button>
                        </div>
                    </div>
                    
                    <!-- Seção Sala -->
                    <div id="section-sala" class="modal-section">
                        <h4>Sala/Estúdio</h4>
                        <div class="form-row">
                            <select id="modal-sala" class="form-control">
                                <option value="">Selecione a sala...</option>
                            </select>
                            <button class="btn-add-option" onclick="adicionarSala()">
                                <i class="fas fa-plus"></i> ADICIONAR SALA
                            </button>
                        </div>
                    </div>
                    
                    <!-- Seção Agendamento -->
                    <div id="section-agendamento" class="modal-section">
                        <h4>Data e Horário</h4>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Data</label>
                                <input type="date" id="modal-data" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Hora de Início</label>
                                <input type="time" id="modal-hora-inicio" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Hora de Término</label>
                                <input type="time" id="modal-hora-fim" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="modal-recorrente">
                                    Aula recorrente (semanal)
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Seção Capacidade -->
                    <div id="section-capacidade" class="modal-section">
                        <h4>Configurações de Capacidade</h4>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Capacidade Mínima</label>
                                <input type="number" id="modal-capacidade-min" class="form-control" min="1" value="1">
                            </div>
                            <div class="form-group">
                                <label>Capacidade Máxima</label>
                                <input type="number" id="modal-capacidade-max" class="form-control" min="1" value="20">
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="modal-lista-espera">
                                    Permitir lista de espera
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Seção Instruções -->
                    <div id="section-instrucoes" class="modal-section">
                        <h4>Instruções e Observações</h4>
                        <div class="form-group">
                            <label>Descrição da aula</label>
                            <textarea id="modal-descricao" class="form-control" rows="4" placeholder="Descreva a aula e orientações para os participantes..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Observações internas</label>
                            <textarea id="modal-observacoes" class="form-control" rows="3" placeholder="Observações para a equipe..."></textarea>
                        </div>
                    </div>
                    
                    <!-- Seção Participantes -->
                    <div id="section-participantes" class="modal-section">
                        <h4>Participantes Inscritos</h4>
                        <div class="participantes-info">
                            <div class="ocupacao-badge">
                                <span id="modal-ocupacao-atual">0</span> / <span id="modal-ocupacao-max">20</span> alunos
                            </div>
                            <div class="ocupacao-progress">
                                <div id="modal-ocupacao-barra" class="ocupacao-barra-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <div class="form-row" style="margin: 1.5rem 0;">
                            <select id="modal-select-aluno" class="form-control">
                                <option value="">Selecione um aluno...</option>
                            </select>
                            <button class="btn-add-option" onclick="adicionarAlunoNaAula()">
                                <i class="fas fa-user-plus"></i> ADICIONAR ALUNO
                            </button>
                        </div>
                        
                        <div id="lista-participantes" class="lista-participantes">
                            <!-- Lista renderizada dinamicamente -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Footer com botões de ação -->
            <div class="modal-aula-footer">
                <button class="btn-secondary" onclick="closeModalAula()">Fechar</button>
                <button class="btn-warning" id="btn-cancelar-aula-completa" onclick="cancelarAulaCompleta()" style="display: none;">
                    <i class="fas fa-ban"></i> Cancelar Aula
                </button>
                <button class="btn-danger" id="btn-deletar-aula" onclick="deletarAula()" style="display: none;">
                    <i class="fas fa-trash"></i> Deletar
                </button>
                <button class="btn-primary" id="btn-salvar-aula" onclick="salvarAula()">
                    <i class="fas fa-save"></i> <span id="btn-salvar-texto">CRIAR</span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Botão Fixo Lateral -->
    <button id="toggle-global-planner" class="planner-toggle-btn" onclick="toggleGlobalPlanner()">
        <i class="fas fa-calendar-days"></i>
    </button>

    <script src="/static/js/mockData.js?v=20251014v1"></script>
    <script src="/static/js/app.js?v=20251014v1"></script>
    
    <script>
        // DEMO: Adicionar botão temporário para testar o modal de informações da aula
        window.addEventListener('DOMContentLoaded', () => {
            const btnDemo = document.createElement('button');
            btnDemo.textContent = 'DEMO: Ver Info Aula GINÁSIO';
            btnDemo.style.cssText = 'position: fixed; bottom: 100px; right: 20px; z-index: 9999; padding: 15px; background: #62b1ca; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 12px rgba(0,0,0,0.3);';
            btnDemo.onclick = () => abrirInfoAula('aula_1');
            document.body.appendChild(btnDemo);
        });
    </script>
</body>
</html>
